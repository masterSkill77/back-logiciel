// test payload du bien 
{
    "exteriorDetail":
    {
        "semiOwnership" : "test",
        "basement": [ {
            "test": "house",
            "test": true
        }],
        "withbasement" : 2,
        "cellar" : 1,
        "trueCellar" : 2,
        "balcony" : 2,
        "withBalcony" : 2,
        "terrace" : 2,
        "withTerrace" : 2,
        "varangue" : 2,
        "loggia" : 2,
        "veranda" : 2,
        "withVeranda" : 2,
        "singleStorey" : 2,
        "typeResidence" : "test",
        "formatResidence" : "test"
    },
        "terrain": {
        "ground":[ {
            "test": "house",
            "test": true
        }]
    },

    "interiorDetail": {
        "category": {
            "test": "house",
            "test": true
        },
        "nbOfSleeping" : 2,
        "nbOfBathroom" : 2,
        "nbOfRoomWater" : 2,
        "nbOfWc" : 2,
        "caracteristique" : [ {
            "test": "house",
            "test": true
        }],
        "surfaceSquare" : 2,
        "surfaceStay" : 2,
        "TypeOfKitchen" : "test",
        "StateOfKitchen" : 2
    },
        "InfoCopropriete": {
        "lot_number" : "test",
        "total_unit" : 2,
        "annual_charges" : "test",
        "amount_fund" : 2,
        "thousands_copropriete" : "test",
        "property_copropriete" : [ {
            "test": "house",
            "test": true
        }]
    },

    "diagnostique": {
        "year_construction" : 2021,
        "dpe_date_realization" : "2021-02-02",
        "dpe_property" : true,
        "dpe_virgin" : true,
        "dpe_consommation" : "consommation",
        "dpe_ges" : "consommation",
        "cost_estimate" : 2,
        "ref_year" : 2,
        "amiante" : 2,
        "amiante_yes_date" : "2021-02-02",
        "amiante_yes_comments" : "consommation",
        "electric" : 2,
        "electric_yes_date" : 2,
        "electric_yes_comments" : 2,
        "gaz" : 2,
        "gaz_yes_date" : 2,
        "gaz_yes_comments" : 2,
        "plomb" : 2,
        "plomb_yes_date" : 2,
        "plomb_yes_comments" : "commest plomb",
        "loi_carrez" : 2,
        "loi_carrez_yes_date" : 2,
        "loi_carrez_yes_comments" : "test carrez",
        "erp" : 2,
        "erp_yes_date" : 2,
        "erp_yes_comments" : "test erp",
        "state_parasitaire" : 2,
        "state_parasitaire_yes_date" : 2,
        "state_parasitaire_yes_comments" : "statistique",
        "assainissement" : 2,
        "assainissement_yes_date" : 2,
        "assainissement_yes_comments" : "assainement correct"
    },
        "rentalInvests": {
        "estimated_rent" : "assainement correct",
        "monthly_rent" : "assainement correct",
        "yeld" : "assainement correct",
        "occupancy" : 2
    },
    "InfoFinanciere" : {
        "info_price" : 2,
        "info_rent" : 2,
        "info_rent_encadrement" : true,
        "info_rent_default" : 2,
        "info_rent_majored" : 2,
        "info_rent_complement" : 2,
        "info_locative_charge_total" : 2,
        "info_locative_charge_format" : "test format",
        "info_honoraire_charge" : [ {
            "test": "house",
            "test": true
        }],
        "info_estimation_value" : 2,
        "info_estimation_date" : "2020-02-02",
        "info_honoraire_locataire_part" : [ {
            "test": "house",
            "test": true
        }],
        "info_honoraire_proprio_part" : [ {
            "test": "house",
            "test": true
        }],
        "info_predicted_work" : "test",
        "info_monthly_charge" : 2,
        "info_garantied_deposit" : "deposit test ",
        "info_fonciere_taxe" : 2,
        "info_habitation_taxe" : 2,
        "info_ordure_menagere_taxe" : 2
    },
        "sectors": {
        "advertised_country" : "test",
        "public_zap" : "test",
        "public_country" : "test",
        "private_zap" : "test",
        "private_country" : "test",
        "property_address" : "test",
        "address_completed" : "test",
        "building" : "test",
        "prox_service" : "test",
        "environment" : "test",
        "map" : [ {
            "test": "house",
            "test": true
        }]
    },
        "photos": {
            "description":"test",
        "photos_original" :     
            "photos_slide" : [ {
            "test": "house",
            "test": true
        }],
        "photos_slide" : [ {
            "test": "house",
            "test": true
        }]
    },

    "biens": {

        "city" : "test",
        "name_country" : "test",
        "zap_country" : "test",
        "living_area" : 2,
        "land_area" : 2,
        "number_room" : 2,
        "number_bedroom" : 2,
        "number_level" : 2,
        "garden_exist" : 2,
        "garden_exist_area" : 2,
        "garden_exist_private" : 2,
        "swim" : 2,
        "swim_exist" : [ {
            "test": "house",
            "test": true
        }],
        "swim_exist_volume" : 2,
        "swim_exist_dimensions" : "test dimension",
        "swim_sxist_treatment" : "test treatment",
        "number_garage" : 2,
        "indoor_parking" : "parking",
        "outdoor_parking" : "test",
        "status" :  [ {
            "test": "house",
            "test": true
        }],
        "num_folder" : 2,
        "date_folder" : "2020-02-02",
        "equipment" :  [ {
            "test": "house",
            "test": true
        }],
        "publish_price" : 2,
        "selling_price" : 2,
        "publish_property" : true,
        "rent" : 2,
        "duration_lease" : 2
    },
    "advertissement": {
        "title": "oskar",
        "description": "test de la description pour l'advertissement"
    },
    "type_offert_id": 1,
    "type_estate_id": 1,
    "classification_estate_id": 1,
    "classification_offert_id": 1
}



















import { FormBuilder } from "../../components/commons/form/FormBuilder";
import { BienForm } from "../../helpers/forms/bien";
import {
  errorToast,
  successToast,
  technicalErrorToast,
} from "../../service/toast/showToast";
import { useBien } from "../../service/bien/useBien";

export const BienAddPage = () => {
  const handleSubmit = async (data) => {
    const newBiens = {};
    newBiens.biens = {
      publish_price: data.publish_price,
      selling_price: data.selling_price,
      rent: data.rent,
      duration_lease: data.duration_lease,
      living_area: data.living_area,
      number_room: data.number_room,
      number_bedroom: data.number_bedroom,
      number_level: data.number_level,
      garden: data.garden,
      garden_exist: data.garden_exist,
      land_area: data.land_area,
      swim: data.swim,
      swim_exist: data.swim_exist,
      number_garage: data.number_garage,
      indoor_parking: data.indoor_parking,
      outdoor_parking: data.outdoor_parking,
      status: {
        view: data.view,
        exposition: data.exposition
      },
      city: data.city,
      name_country: data.name_country,
      zap_country: data.zap_country,
      num_folder: data.num_folder,
      date_folder: data.date_folder,
      publish_property: data.publish_property,
      equipement  : {
        format: data.format,
        type: data.type,
        energie: data.energie,
        ascensceur: data.ascensceur,
        acces_handicapes: data.acces_handicapes,
        climatisation: data.climatisation,
        chemine: data.chemine,
        byciclette: data.byciclette,
        water_alimentation: data.water_alimentation,
        water_clean: data.water_clean,
        electric: data.electric,
        portal_electric: data.portal_electric,
        garden: data.garden,
        vitrage: data.vitrage,
        internet: data.internet,
        portal: data.portal,
        interphone: data.interphone,
        visiophone: data.visiophone,
        alarme: data.alarme,
        digicode: data.digicode,
      },
      recent_construct : {
        assurance: data.assurance,
        garantie: data.garantie,
        achat : data.achat,
        certificat: data.certificat
      },
    };
    newBiens.exteriorDetail = {
      semiOwnership: data.semiOwnership,
      basement: data.basement,
      withbasement: parseInt(data.withbasements),
      trueCellar: parseInt(data.trueCellars),
      cellar: parseInt(data.cellars),
      balcony: parseInt(data.balcony),
      withBalcony: parseInt(data.withBalcony),
      terrace: parseInt(data.terrace),
      withTerrace: parseInt(data.withTerrace),
      varangue: parseInt(data.varangue),
      withVeranda: parseInt(data.withVeranda),
      loggia: parseInt(data.loggia),
      veranda: parseInt(data.veranda),
      singleStorey: parseInt(data.singleStorey),
      typeResidence: data.typeResidence,
      formatResidence: data.formatResidence,
    };

    newBiens.terrain = {
      ground:[ {
        swimming: data.swimming,
        tree: data.tree,
        divisible:data.divisible,
          }],
      ground_print: data.ground_print,
      ground_print_residual: data.ground_print_residual,
      shon: data.shon,
      ces: data.ces,
      codification_plu: data.codification_plu,
      right_way: data.right_way,
      cadastral_ref: data.cadastral_ref,
    };

    newBiens.interiorDetail = {
      category: {
             category:data.category,
          },
      nbOfSleeping: data.nbOfSleeping,
      nbOfBathroom: data.nbOfBathroom,
      nbOfRoomWater: data.nbOfRoomWater,
      nbOfWc: data.nbOfWc,
      caracteristique: {
        attic: data.attic,
        cellar: data.cellar,
        furniture:data.furniture,
      },
      surface: {
        bouti: data.bouti,
        surfaceSquare: data.surfaceSquare,
        surfaceStay: data.surfaceStay
      },
      kitchen: {
        type: data.type,
        state: data.state
      }
    }
    newBiens.InfoCopropriete = {
      lot_number: data.lot_number,
      total_unit: data.total_unit,
      annual_charges: data.annual_charges,
      amount_fund: data.amount_fund,
      thousands_copropriete: data.thousands_copropriete,
      backupPlan: data.backupPlan,
      unionStatus: data.unionStatus,
      property_copropriete:   [{
        property_copropriete: data.property_copropriete,
        status_syndicat: data.status_syndicat
      }]
    }

    newBiens.diagnostique = {
      year_construction: data.year_construction,
      dpe_date_realization: data.dpe_date_realization,
      dpe_property: data.dpe_property,
      dpe_virgin: data.dpe_virgin,
      dpe_consommation: data.dpe_consommation,
      dpe_ges: data.dpe_ges,
      cost_estimate: data.cost_estimate,
      ref_year: data.ref_year,
      amiante: data.amiante,
      amiante_yes_date: data.amiante_yes_date,
      amiante_yes_comments: data.amiante_yes_comments,
      electric: data.electric,
      electric_yes_date: data.electric_yes_date,
      electric_yes_comments: data.electric_yes_comments,
      gaz: data.gaz,
      gaz_yes_date: data.gaz_yes_date,
      gaz_yes_comments: data.gaz_yes_comments,
      plomb: data.plomb,
      plomb_yes_date: data.plomb_yes_date,
      plomb_yes_comments: data.plomb_yes_comments,
      loi_carrez: data.loi_carrez,
      loi_carrez_yes_date: data.loi_carrez_yes_date,
      loi_carrez_yes_comments: data.loi_carrez_yes_comments,
      erp: data.erp,
      erp_yes_date: data.erp_yes_date,
      erp_yes_comments: data.erp_yes_comments,
      state_parasitaire: data.state_parasitaire,
      state_parasitaire_yes_date: data.state_parasitaire_yes_date,
      state_parasitaire_yes_comments: data.state_parasitaire_yes_comments,
      assainissement: data.assainissement,
      assainissement_yes_date: data.assainissement_yes_date,
      assainissement_yes_comments: data.assainissement_yes_comments
    }
    newBiens.rentalInvests = {
      estimated_rent: data.estimated_rent,
      monthly_rent: data.monthly_rent,
      yeld: data.yeld,
      occupancy: data.occupancy,
    }
    newBiens.InfoFinanciere = {
      info_price: data.info_price,
      info_rent: data.info_rent,
      info_rent_encadrement: data.info_rent_encadrement,
      info_rent_default: data.info_rent_default,
      info_rent_majored: data.info_rent_majored,
      info_rent_complement: data.info_rent_complement,
      info_locative_charge_total: data.info_locative_charge_total,
      info_locative_charge_format: data.info_locative_charge_format,
      info_honoraire_charge: [
        {
          info_honoraire_charge: data.info_honoraire_charge,
          info_honoraire_seller:data.info_honoraire_seller
        },
      ],
          info_predicted_work: data.info_predicted_work,
          info_monthly_charge: data.info_monthly_charge,
          info_honoraire_locataire_part: data.info_honoraire_locataire_part,
          info_honoraire_proprio_part: data.info_honoraire_proprio_part,
          info_garantied_deposit: data.info_garantied_deposit,
          info_fonciere_taxe: data.info_fonciere_taxe,
          info_habitation_taxe: data.info_habitation_taxe,
          info_ordure_menagere_taxe: data.info_ordure_menagere_taxe,
          info_estimation_value: data.info_estimation_value,
          info_estimation_date: data.info_estimation_date,
    };

    newBiens.sectors = {
      advertised_country: data.advertised_country,
      public_zap: data.public_zap,
      public_country: data.public_country,
      private_zap: data.private_zap,
      private_country: data.private_country,
      property_address: data.property_address,
      address_completed: data.address_completed,
      building: data.building,
      prox_service: data.prox_service,
      environment: data.environment,
      map: data.map
    };
    newBiens.photos = {
      photos_original: data.photos_original,
      decription: data.decription,
      photos_slide : [ {
        photos_slide: data.photos_slide
      }]
    };
    newBiens.advertissement = {
      title: data.title,
      description: data.description,
    };
    newBiens.type_offert_id = data.type_offert_id;
    newBiens.type_estate_id = data.type_estate_id;
    newBiens.classification_estate_id = data.classification_estate_id;
    newBiens.classification_offert_id = data.classification_offert_id;

    await useBien
      .createBien(newBiens)
      .then((response) => {
        successToast(response.message);
      })
      .catch(({ response }) => {
        technicalErrorToast();
      });

      console.log("data",data);
    console.log("Biens", newBiens);
  };
  return (
    <div className="border-2 border-solid border-[#2d5c6a]">
      <FormBuilder onComplete={handleSubmit} form={BienForm} />
    </div>
  );
};
